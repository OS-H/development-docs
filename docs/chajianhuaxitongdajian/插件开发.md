# 概述

整个系统采用插件化的设计理念，每个功能模块都是一个独立的插件，可以被单独加载、卸载或更新，而不会对整个系统产生影响。插件化设计还可以让不同的开发团队并行开发不同的插件，从而提高系统的开发效率和质量。

# 插件交付物

插件以 docker 镜像的形式进行交付，相关动态变化的数据需要暴露在配置文件中。

# 插件授权

插件需要具备授权检查功能，未经过授权的驱动包只可进行 1 周的使用时间权限。认证授权流程如下：  
1、申请插件唯一编码。每个插件都有一个唯一的编码 ID，改 ID 由开发者在开发者平台申请。  
2、授权登录，通过 websocket 服务与授权服务进行认证，websocket 的 url 如下：
`ws://IP:Port/socket/authorization`
websocket 连上之后，每隔 120 秒发送认证请求

```{#
  "authorizationcode": "code",
  "pluginid": "id"
}
```

其中 authorizationcode 为用户在插件商城购买的授权码，需要在配置文件中暴露出来，给用户进行配置。
pluginid 为插件申请的唯一 id，这个 id 不能让用户进行配置。

如果认证成功，返回如下

```{
  "status": "success",
  "code": 200,
  "message": "Authorization successfully"
}
```

其实 code 为 200 是认证成功，其他数字为认证失败。
如果认证失败，需要退出程序。
